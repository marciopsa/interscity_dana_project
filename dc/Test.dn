component provides App requires io.Output out, compress.algorithm.StreamCompression:deflate alg, io.File, io.File:mem {
	
	byte[] compress(byte content[]) {
		alg.compressInit()
		byte result[] = alg.compress(content, content.arrayLength)
		alg.compressEnd()
		return result
		return result
	}

	int App:main(AppParam params[]) {
		File inf = new File("test.txt", File.READ)
		File ouf = new File("test.gz", File.WRITE)
		byte input[] = inf.read(inf.getSize())
		byte output[] = compress(input)
		ouf.write(output)
		inf.close()
		ouf.close()
		return 0
	}
}